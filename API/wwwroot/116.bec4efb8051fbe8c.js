"use strict";(self.webpackChunkShoeStore_client=self.webpackChunkShoeStore_client||[]).push([[116],{3116:(L,d,i)=>{i.r(d),i.d(d,{OrdersModule:()=>A});var m=i(4466),s=i(6895),e=i(4650),a=i(3060);let u=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-order-success"]],decls:7,vars:0,consts:[[1,"buttons"],["routerLink","/orders"],["routerLink","/products"]],template:function(t,o){1&t&&(e.TgZ(0,"h2"),e._uU(1,"Thanks for purchasing"),e.qZA(),e.TgZ(2,"div",0)(3,"a",1),e._uU(4,"Orders"),e.qZA(),e.TgZ(5,"a",2),e._uU(6,"See more available Products"),e.qZA()())},dependencies:[a.yS],styles:["h2[_ngcontent-%COMP%]{text-align:center;margin:20px 0}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px}.buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;background-color:#ff4081;color:#fff;padding:8px 12px;border-radius:8px}.buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}"]}),r})();var g=i(7316),l=i(2340),p=i(529),O=i(1135),P=i(4004);class C extends g.Z{constructor(){super(...arguments),this.sortPrice=null,this.sortLatest=null}}let f=(()=>{class r{constructor(t){this.http=t,this.ordersSource=new O.X([]),this.orders$=this.ordersSource.asObservable(),this.orderParams=new C,this.orderPagination=new g.Z}getOrderParams(){return this.orderParams}setOrderParams(t){this.orderParams=t,this.getOrders()}getOrderPaginator(){return this.orderPagination}getOrders(){let t=new p.LE;this.orderParams.pageNumber&&(t=t.set("pageNumber",this.orderParams.pageNumber)),this.orderParams.pageSize&&(t=t.set("pageSize",this.orderParams.pageSize)),this.orderParams.sortLatest&&(t=t.set("sortLatest",this.orderParams.sortLatest)),this.orderParams.sortPrice&&(t=t.set("sortPrice",this.orderParams.sortPrice)),this.http.get(l.N.appUrl+"api/Order",{params:t}).pipe((0,P.U)(o=>{this.ordersSource.next(o.list),this.orderPagination.pageNumber=o.pageNumber,this.orderPagination.pageSize=o.pageSize,this.orderPagination.count=o.count})).subscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(p.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var h=i(7974);function x(r,n){if(1&r&&(e.TgZ(0,"div",4)(1,"span",5),e._uU(2),e.qZA(),e.TgZ(3,"div",6),e._UZ(4,"img",7),e.qZA(),e.TgZ(5,"p",8),e._uU(6),e.qZA(),e.TgZ(7,"div",9)(8,"span",10),e._uU(9,"Quantity"),e.qZA(),e.TgZ(10,"span",11),e._uU(11),e.qZA()(),e.TgZ(12,"div",12)(13,"span",10),e._uU(14,"Price"),e.qZA(),e.TgZ(15,"span",11),e._uU(16),e.qZA()()()),2&r){const t=n.$implicit,o=n.index;e.xp6(2),e.hij("# ",o+1,""),e.xp6(2),e.Q6J("src",t.productImage,e.LSH),e.xp6(2),e.Oqu(t.productName),e.xp6(5),e.Oqu(t.quantity),e.xp6(5),e.hij("$",t.totalPrice,"")}}let M=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-order-item"]],inputs:{order:"order"},decls:13,vars:7,consts:[[1,"order"],[1,"total-price"],[1,"items-text"],["class","order-item",4,"ngFor","ngForOf"],[1,"order-item"],[1,"order-item-number"],[1,"order-item-image"],["alt","image",3,"src"],[1,"product-name"],[1,"quantity"],[1,"title"],[1,"details"],[1,"subtotal"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2),e.qZA(),e.TgZ(3,"div",1),e._uU(4,"Total Price:"),e.TgZ(5,"h3"),e._uU(6),e.qZA()(),e.TgZ(7,"h4"),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"p",2),e._uU(11,"ORDER ITEMS:"),e.qZA(),e.YNc(12,x,17,5,"div",3),e.qZA()),2&t&&(e.xp6(2),e.hij("# ",o.order.id,""),e.xp6(4),e.hij(" $",o.order.totalPrice,""),e.xp6(2),e.hij("Order Date: ",e.xi3(9,4,o.order.orderDate,"dd/MM/yyyy"),""),e.xp6(4),e.Q6J("ngForOf",o.order.orderItems))},dependencies:[s.sg,s.uU],styles:[".order[_ngcontent-%COMP%]{margin-top:20px;border:1px solid black;padding:10px;border-radius:10px}.order[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .order[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .order[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]{margin-top:4px}.order[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]{display:flex;align-items:center}.order[_ngcontent-%COMP%]   .items-text[_ngcontent-%COMP%]{margin-top:10px}.order[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]{margin-top:7px;display:flex;justify-content:space-between;flex-wrap:wrap;gap:5px}.order[_ngcontent-%COMP%]   .order-item-number[_ngcontent-%COMP%]{align-self:center;font-size:18px}.order[_ngcontent-%COMP%]   .order-item-image[_ngcontent-%COMP%]{flex:0 0 15%}.order[_ngcontent-%COMP%]   .order-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100px}.order[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{flex:1;align-self:center}.order[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%], .order[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .subtotal[_ngcontent-%COMP%]{flex:0 0 21%;display:flex;flex-direction:column;align-items:center;justify-content:center}.order[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%], .order[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .subtotal[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin-top:6px}"]}),r})();function _(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"app-order-item",6),e.BQk()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("order",t)}}const Z=function(){return[5,7,10,15]};function v(r,n){if(1&r){const t=e.EpF();e.ynx(0),e._UZ(1,"div",2),e.TgZ(2,"mat-paginator",3),e.NdJ("page",function(c){e.CHM(t);const U=e.oxw();return e.KtG(U.pageChanged(c))}),e.qZA(),e.TgZ(3,"div",4),e.YNc(4,_,2,1,"ng-container",5),e.ALo(5,"async"),e.qZA(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("length",t.orderService.getOrderPaginator().count)("pageSize",t.orderService.getOrderPaginator().pageSize)("pageIndex",t.orderService.getOrderPaginator().pageNumber-1)("pageSizeOptions",e.DdM(7,Z)),e.xp6(2),e.Q6J("ngForOf",e.lcZ(5,5,t.orderService.orders$))}}function S(r,n){1&r&&(e.TgZ(0,"div",7)(1,"p"),e._uU(2,"You have no orders yet"),e.qZA(),e.TgZ(3,"a",8),e._uU(4,"Start shopping"),e.qZA()())}const y=[{path:"",component:(()=>{class r{constructor(t){this.orderService=t}ngOnInit(){this.orderService.getOrders()}pageChanged(t){let o=this.orderService.getOrderParams();o.pageNumber=t.pageIndex+1,o.pageSize=t.pageSize,this.orderService.setOrderParams(o)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(f))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-orders-list"]],decls:6,vars:4,consts:[[4,"ngIf","ngIfElse"],["noOrders",""],[2,"margin-top","30px"],[3,"length","pageSize","pageIndex","pageSizeOptions","page"],[1,"orders-list"],[4,"ngFor","ngForOf"],[3,"order"],[1,"no-orders"],["routerLink","/cart"]],template:function(t,o){if(1&t&&(e.TgZ(0,"h2"),e._uU(1,"Your orders"),e.qZA(),e.YNc(2,v,6,8,"ng-container",0),e.ALo(3,"async"),e.YNc(4,S,5,0,"ng-template",null,1,e.W1O)),2&t){const c=e.MAs(5);e.xp6(2),e.Q6J("ngIf",e.lcZ(3,2,o.orderService.orders$).length>0)("ngIfElse",c)}},dependencies:[s.sg,s.O5,a.yS,h.NW,M,s.Ov],styles:["h2[_ngcontent-%COMP%]{text-align:center}.no-orders[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:7%}.no-orders[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}.orders-list[_ngcontent-%COMP%]{margin-top:13px}"]}),r})()},{path:"success",component:u}];let T=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[s.ez,a.Bz.forChild(y),a.Bz]}),r})(),A=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[s.ez,T,m.m]}),r})()}}]);